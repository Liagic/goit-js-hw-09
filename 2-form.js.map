{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["function getLocalStorageData(key) {\n  const data = localStorage.getItem(key);\n  if (data) {\n    try {\n      return JSON.parse(data);\n    } catch (error) {\n      return null;\n    }\n  }\n  return null;\n}\nfunction setDataToField() {\n  form.email.value = formData.email;\n  form.message.value = formData.message;\n}\nlet formData = {\n  email: '',\n  message: '',\n};\nconst form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\nlet dataFromLocalStorage = getLocalStorageData(localStorageKey);\nif (dataFromLocalStorage) {\n  console.log(dataFromLocalStorage);\n  formData = { ...formData, ...dataFromLocalStorage };\n  setDataToField();\n}\n\nform.addEventListener('input', event => {\n  if (Object.keys(formData).includes(event.target.name)) {\n    formData[event.target.name] = event.target.value;\n    localStorage.setItem(localStorageKey, JSON.stringify(formData));\n  }\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (formData.email && formData.message) {\n    console.log(formData);\n    localStorage.removeItem(localStorageKey);\n    formData = {\n      email: '',\n      message: '',\n    };\n    form.reset();\n    return;\n  }\n  alert('Fill please all fields');\n});\n"],"names":["getLocalStorageData","key","data","setDataToField","form","formData","localStorageKey","dataFromLocalStorage","event"],"mappings":"wFAAA,SAASA,EAAoBC,EAAK,CAChC,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,GAAIC,EACF,GAAI,CACF,OAAO,KAAK,MAAMA,CAAI,CACvB,MAAe,CACd,OAAO,IACR,CAEH,OAAO,IACT,CACA,SAASC,GAAiB,CACxBC,EAAK,MAAM,MAAQC,EAAS,MAC5BD,EAAK,QAAQ,MAAQC,EAAS,OAChC,CACA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EACA,MAAMD,EAAO,SAAS,cAAc,gBAAgB,EAC9CE,EAAkB,sBACxB,IAAIC,EAAuBP,EAAoBM,CAAe,EAC1DC,IACF,QAAQ,IAAIA,CAAoB,EAChCF,EAAW,CAAE,GAAGA,EAAU,GAAGE,CAAoB,EACjDJ,KAGFC,EAAK,iBAAiB,QAASI,GAAS,CAClC,OAAO,KAAKH,CAAQ,EAAE,SAASG,EAAM,OAAO,IAAI,IAClDH,EAASG,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,aAAa,QAAQF,EAAiB,KAAK,UAAUD,CAAQ,CAAC,EAElE,CAAC,EAEDD,EAAK,iBAAiB,SAAUI,GAAS,CAEvC,GADAA,EAAM,eAAc,EAChBH,EAAS,OAASA,EAAS,QAAS,CACtC,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWC,CAAe,EACvCD,EAAW,CACT,MAAO,GACP,QAAS,EACf,EACID,EAAK,MAAK,EACV,MACD,CACD,MAAM,wBAAwB,CAChC,CAAC"}